# Основные понятия в программировании: интерфейсы и абстракция

## Интерфейс

**Интерфейс** - это общий термин, который представляет собой способ взаимодействия с **системой** или способ взаимодействия разных систем между собой.

### Пример: компьютерная система

<!-- диаграмма здесь -->

К примеру, рассмотрим компьютеры.
Пользователь воспринимает работу компьютера как что-то магическое, не зная и не заботясь о том, как он работает.
Они используют клавиатуру и мышь для отправки сигналов на компьютер и смотрят на экран, чтобы видеть ответы от системы
(например, нажатие кнопки мыши открывает программу,
печатая на клавиатуре, переводит нажатия клавиш в текстовый редактор).
Эти две компоненты, вход и выход, представляют собой интерфейс компьютерной системы.
Пользователь может вообще не знать о внутреннем устройстве компьютера,
он может даже не осознавать его существование, потому что все, с чем он взаимодействует, - это его интерфейс.
Другими словами, систему можно рассматривать как **черный ящик**.

Чтобы было ясно, компьютерная система никогда не считается частью интерфейса,
интерфейс компьютера состоит только из входных и выходных устройств,
которые помогают пользователю взаимодействовать с компьютерной системой.
Любой инструмент, используемый для взаимодействия с компьютером, считается частью его интерфейса,
даже USB-порты на корпусе компьютера или кнопка питания, считается интерфейсом.

В общих терминах пользователь системы, выполняющий действия, часто называется **оператором**,
а детали рассматриваемой системы часто называют **реализацией**,
особенно в контексте программирования.

Эти термины часто используются при проектировании программных систем.

### Пример: видеоигра

<!-- диаграмма здесь -->

Рассмотрим еще один пример - видеоигру.
Разделение игровых компонентов на базовую часть игровой логики,
часть ввода пользователя и часть **представления**, которая включает графику и звуковые эффекты, считается хорошей практикой.

**Представление** - это то, что пользователь видит на экране, такие как анимация персонажей, кнопки, урон и т. д.
Оно фактически представляет собой выходной компонент игровой системы.

Часть ввода пользователя, часто называемая **контроллером**, отвечает за преобразование ввода пользователя,
например, нажатия кнопок на экране или клавиши на клавиатуре,
в команды, которые может интерпретировать игровая логика,
например, двигать персонажем, или приближать камеру, или использовать способность.
Она фактически представляет собой входной компонент игровой системы.

Часть игровой логики, также называемая **моделью**, применяет команды от контроллера и отображает результаты через представление пользователю.
Она представляет собой реализацию игровой системы.

Таким образом, интерфейс игры состоит из контроллера и представления.

> Теперь, строго говоря, это не совсем верно, потому что фактическая часть, с которой сталкивается пользователь в представлении, это не все представление,
> она может вполне содержать много другой логики, не видимой пользователю, которая, например, помогает настроить виджеты
> на экране.
> 
> То же самое с контроллером, это не просто обработка ввода, он также может иметь некоторую логику, которая помогает ему интерпретировать,
> предварительно обработать или преобразовать ввод перед его передачей в игровую логику.

### Разбиение системы на отдельные части

Разница между интерфейсом и **пользовательским интерфейсом** заключается в том, что последний разработан специально
для взаимодействия с людьми, в то время как просто интерфейс - это более общее понятие.
Один интерфейс может взаимодействовать с другим.

К примеру, у клавиатуры есть свой собственный интерфейс.
У клавиатуры есть входная часть (физические клавиши),
реализация или часть **"черного ящика"** (как нажатия клавиш преобразуются в электрические волны)
и выходная часть (провод, который подключается к компьютеру).
Вход и выход составляют интерфейс клавиатуры.
Ввод управляется человеком, а вывод интерпретируется компьютером.
Отметим, что в интерфейсе оператор не обязательно является **наблюдателем** эффектов.
В случае компьютеров эффект в конечном итоге достигает оператора через графический интерфейс,
но в контексте клавиатуры это не обязательно так.

Точно так же у экрана компьютера есть свой интерфейс.
На нем есть реальный экран, который виден пользователю,
есть входной провод, который получает сигналы от компьютера,
и есть система, которая знает, какие светодиоды должны светиться.
В этом случае оператором этой системы является компьютер,
пока наблюдателем является человек, смотрящий на экран.

Любая часть, например, компьютера, является своей маленькой системой и имеет свой маленький интерфейс.
Одна из причин, по которой это делается таким образом, заключается в том, чтобы позволить заменять любую часть на любую другую совместимую часть,
делая всю систему высоко **модульной** и гибкой.
Совместимость можно определить как наличие одного и того же интерфейса, но, возможно, совершенно разной реализацией.
Например, вы можете подключить любую клавиатуру или экран к компьютеру, если у него есть такой провод, который *выход* (экран) или *ввод* (клавиатура) *интерфейс* компьютера поддерживает.

Второе преимущество интерфейсов заключается в том, что они позволяют дизайнерам частей **реализовывать** части в изоляции,
пока эти части соответствуют спецификации интерфейса, которую требуют **потребители** части
(интерфейсы, которые позволят подключать к этим частям / использовать их).

Подводя итог, интерфейсы - это наружные компоненты вещей.
Они позволяют соединять несколько компонентов через их интерфейсы,
таким образом, входы одного соответствуют выходам другого,
или наоборот (они соответствуют ожиданиям друг друга).

## Абстракция

Понятия **абстракции** и **уровня абстракции** идут рука об руку с понятием интерфейсов.
Вы постоянно сталкиваетесь с этими понятиями в программировании, поэтому важно их понимать.

**Абстракция** относится к идее того, что операторы взаимодействуют с системой через ее интерфейс,
не заботясь о деталях реализации.
К примеру, клавиатура - это абстракция для ввода текста,
потому что для ввода текста пользователь просто использует интерфейс (клавиатуру), предназначенный для этой цели,
не беспокоясь о том, как их нажатия клавиш преобразуются в текст на экране (детали реализации).

**Уровень абстракции** касается того, насколько сложной или простой является система, с которой вы имеете дело.
Чем больше отдельных компонентов состоит вещь, тем она сложнее, тем выше ее уровень.
Чем меньше отдельных компонентов у нее есть, тем она проще, тем ниже ее уровень.

В нашем примере с компьютером взаимодействие с компьютерной системой в целом,
используя клавиатуру и смотря на экран, является высокоуровневым взаимодействием.

Взаимодействие клавиатуры и компьютера является несколько более низкоуровневым взаимодействием,
потому что клавиатура и интерфейс компьютера,
который поддерживает ввод с клавиатуры, является меньшей частью всей компьютерной системы.

Чем меньше часть, тем ниже уровень.
К примеру, клавиша на клавиатуре будет очень низкоуровневым взаимодействием,
потому что она фактически просто физически нажимает кнопку.
Самое низкое взаимодействие на компьютере будет заключаться в отправке электрической волны по проводу,
или в переводе физического бита с 0 на 1.

### Парадокс абстракции

Теперь, несмотря на то что компьютер в целом легко взаимодействует с пользователем,
это на самом деле очень сложная система с сотнями отдельных компонентов,
состоящих из еще более мелких компонентов.
Так что даже если его структура сложная,
его просто понимать, как он работает достаточно, чтобы уметь пользоваться им.

С другой стороны, даже если ОЗУ (оперативная память) является одиночным компонентом компьютера,
то это относительно низкий уровень и просто, большинство людей не понимают, как это работает,
и им было бы в целом сложнее узнать это, чем научиться пользоваться компьютером.
Так что даже если его структура проста, понимание его сложно.

Это просто что-то, о чем стоит подумать.

### Как это относится к программированию?

Программисты абстрагируют процессы и алгоритмы.
Код - это основной инструмент, который позволяет нам, программистам, создавать указанные абстракции.
Если разложить, эти абстракции сводятся к последовательностям простых основных операций,
таких как сложение двух чисел или запись числа в какое-то место в памяти.

Абстракция часто считается синонимом "упрощение" программистами.
Идея заключается в том, что абстракция помогает упростить взаимодействие с системой, предлагая простой интерфейс,
что позволяет пользователю не заботиться о деталях реализации системы.
Вам не нужно понимать ОЗУ, чтобы уметь пользоваться компьютером.